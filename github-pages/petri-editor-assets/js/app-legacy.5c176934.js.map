{"version":3,"sources":["webpack://pontosim/./src/App.vue","webpack://pontosim/./src/App.vue?b42f","webpack://pontosim/./src/views/errors/InternalServerError.vue","webpack://pontosim/./src/views/errors/InternalServerError.vue?5124","webpack://pontosim/./src/views/Editor.vue","webpack://pontosim/./src/components/EditorProperties.vue","webpack://pontosim/./src/components/ExecutionMenu.vue","webpack://pontosim/./src/components/ExecutionMenu.vue?a003","webpack://pontosim/./src/components/SelectedElementMenu.vue","webpack://pontosim/./src/components/SelectedElementMenu.vue?a421","webpack://pontosim/./src/components/EditorProperties.vue?6a63","webpack://pontosim/./src/components/Workspace.vue","webpack://pontosim/./src/components/ControlBar.vue","webpack://pontosim/./src/components/ControlBar.vue?3a58","webpack://pontosim/./src/components/Workspace.vue?0a88","webpack://pontosim/./src/views/Editor.vue?76c1","webpack://pontosim/./src/router/index.js","webpack://pontosim/./src/store/index.js","webpack://pontosim/./src/plugins/element.js","webpack://pontosim/./src/PetriEditorLauncher.js","webpack://pontosim/./src/main.js","webpack://pontosim/webpack/bootstrap","webpack://pontosim/webpack/runtime/chunk loaded","webpack://pontosim/webpack/runtime/compat get default export","webpack://pontosim/webpack/runtime/define property getters","webpack://pontosim/webpack/runtime/global","webpack://pontosim/webpack/runtime/hasOwnProperty shorthand","webpack://pontosim/webpack/runtime/node module decorator","webpack://pontosim/webpack/runtime/jsonp chunk loading","webpack://pontosim/webpack/startup"],"names":["class","name","render","style","type","goToHomePage","methods","this","$router","push","width","loading","activeItems","title","size","label","step","readonly","logs","placeholder","autosize","resize","computed","$store","getters","logsString","selectedElement","attrs","updateLabel","dataType","filterable","updateDataType","dataTypes","item","key","value","initialStateString","updateInitialStateString","currentStateString","count","action","updateAction","actions","status","description","data","newValue","commit","components","ExecutionMenu","SelectedElementMenu","id","modelName","effect","content","placement","btnType","cursor","selectTool","place","transition","execute","fastBackward","stepForward","tool","newTool","ControlBar","dragOy","dragOx","dragging","successColor","psActions","placeDefault","body","strokeWidth","cx","cy","rx","ry","stroke","fill","ref","textVerticalAnchor","textAnchor","refX","refY","fontSize","text","initialState","placeMarkup","markup","tagName","selector","attributes","magnet","transitionDefault","ports","groups","input","circle","r","position","args","start","x","y","end","output","refx","refy","height","transitionMarkup","EditorProperties","Workspace","graph","get","set","paperEl","paper","drag","offsetX","offsetY","setOrigin","options","origin","window","$","css","startDrag","setInteractivity","elementMove","stopDrag","setUpPaper","joint","dia","Element","define","Graph","Paper","el","model","gridSize","drawGrid","linkPinning","defaultLink","shapes","standard","Link","router","perpendicular","validateMagnet","_view","evt","getAttribute","ctrlKey","validateConnection","viewSrc","modelSrc","viewTgt","modelTgt","linkView","nodeValue","portUsed","getLinks","some","link","port","on","cellView","addTools","ToolsView","tools","elementTools","Remove","useModelGeometry","elementView","toolView","remove","ui","cid","offset","elementViewConnected","tgtType","placeId","transitionId","portName","getCell","getPort","linkTools","Vertices","snapRadius","distance","_linkView","src","tgt","removeTools","oldCellView","getCellViewById","unhighlight","element","getElementById","highlight","undefined","psim","Place","addTo","currentState","inputs","outputs","cell","Transition","mounted","$loadScript","axios","actionsResponse","dataTypesResponse","console","log","$alert","confirmButtonText","callback","routes","path","component","Editor","InternalServerError","withPrefix","prefix","map","route","concat","createRouter","history","createWebHistory","errorColor","transitionColor","Enabled","Disabled","Ready","formatInitialStateView","val","length","newStr","i","slice","validateTokens","promises","forEach","response","method","url","headers","Promise","all","result","every","valid","updateInitialState","tgtElement","dataString","state","validData","JSON","parse","Error","initialStateFormatedString","attr","toString","checkTransitionStatus","Object","values","inputLinked","reqCount","places","keys","isReady","elements","find","refreshTransitionStatus","transitionElement","transitionCell","addLog","message","dt","Date","formatedDate","getMonth","padStart","getDate","getFullYear","getHours","getMinutes","getSeconds","ElNotification","removeLinksFromPlace","filter","removeLinks","fireSelectedTransition","actionName","inputPorts","pop","auxString","stringify","res","transitionOutput","outputPorts","msg","inputsArr","createStore","mutations","removePlace","idxT","findIndex","splice","idx","removeTransition","inputPlacesIds","removeInputLink","removeOutputLink","idxP","readyTransitions","len","transitionIdx","Math","floor","random","resetState","transitions","fireTransition","addInputLink","placeElement","addOutputLink","addElement","selectElement","setGraph","setPaper","setPaperEl","updateElementLabel","updateElementDataType","updateElementInitialStateString","updateElementAction","inputPlaces","outputPlaces","placeIds","removePorts","getPorts","addPort","group","getCellById","findViewByModel","modules","app","use","ElementPlus","domNode","library","fas","far","dom","createApp","App","installElementPlus","FontAwesomeIcon","LoadScript","VueAxios","store","mount","PetriEditorLauncher","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","loaded","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","g","globalThis","Function","e","obj","prop","prototype","hasOwnProperty","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"mappings":"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","file":"js/app-legacy.5c176934.js","sourcesContent":["<template>\n  <div class=\"app-container\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'App',\n};\n</script>\n\n<style>\n.app-container {\n  font-family: \"Helvetica Neue\",\n                Helvetica,\n                \"PingFang SC\",\n                \"Hiragino Sans GB\",\n                \"Microsoft YaHei\",\n                \"微软雅黑\",\n                Arial,\n                sans-serif;\n  margin: 1em 1em 1em 1em;\n}\n.el-notification__title, .el-notification__content, .el-popper, .el-message-box,\n.select-item {\n  font-family: \"DejaVu Sans\";\n}\n</style>\n","import { render } from \"./App.vue?vue&type=template&id=196125d6\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=196125d6&lang=css\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"error-page\">\n    <h1>500 <span style=\"color: #F56C6C;\">Internal Server Error</span></h1>\n    <h3>Oops... Something went wrong.</h3>\n    <el-divider></el-divider>\n    <p>Try going back and attempting the action again after some time.\n      <br />Feel free to contact us if the problem persist.</p>\n    <el-button type=\"primary\" @click=\"goToHomePage\">Go to home page</el-button>\n  </div>\n</template>\n\n<script>\nexport default {\n  methods: {\n    goToHomePage() {\n      this.$router.push('/');\n    },\n  },\n};\n</script>\n\n<style scoped>\n.error-page {\n  text-align: center;\n}\n</style>\n","import { render } from \"./InternalServerError.vue?vue&type=template&id=fe25df0c&scoped=true\"\nimport script from \"./InternalServerError.vue?vue&type=script&lang=js\"\nexport * from \"./InternalServerError.vue?vue&type=script&lang=js\"\n\nimport \"./InternalServerError.vue?vue&type=style&index=0&id=fe25df0c&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-fe25df0c\"\n\nexport default script","<template>\n  <el-container v-loading=\"loading\" class=\"page-container\">\n    <el-aside width=\"15%\">\n      <EditorProperties />\n    </el-aside>\n\n    <el-container>\n      <el-main>\n        <Workspace />\n      </el-main>\n    </el-container>\n  </el-container>\n</template>\n\n<script>\nimport EditorProperties from '@/components/EditorProperties.vue';\nimport Workspace from '@/components/Workspace.vue';\n\nlet dragOy;\nlet dragOx;\nlet dragging = false;\n\nconst successColor = '#67C23A';\n\nconst psActions = process.env.ACTIONS_API_URL || 'http://localhost:5000';\n\nconst placeDefault = {\n  attrs: {\n    body: {\n      strokeWidth: 2,\n      cx: 0,\n      cy: 0,\n      rx: 40,\n      ry: 40,\n      stroke: '#8f8f8f',\n      fill: '#FFFFFF',\n    },\n    label: {\n      ref: 'body',\n      textVerticalAnchor: 'bottom',\n      textAnchor: 'middle',\n      refX: '50%',\n      refY: '0%',\n      fontSize: 12,\n      fill: '#6d6d6d',\n      text: 'New Place',\n    },\n    dataType: {\n      ref: 'body',\n      textVerticalAnchor: 'top',\n      textAnchor: 'left',\n      refX: '90%',\n      refY: '90%',\n      fontSize: 12,\n      fill: '#6d6d6d',\n      text: 'integer',\n    },\n    initialState: {\n      ref: 'body',\n      textVerticalAnchor: 'top',\n      textAnchor: 'left',\n      refX: '105%',\n      refY: '5%',\n      fontSize: 12,\n      fill: successColor,\n      text: '[]',\n    },\n    count: {\n      ref: 'body',\n      textVerticalAnchor: 'middle',\n      textAnchor: 'middle',\n      refX: '50%',\n      refY: '50%',\n      fontSize: 12,\n      fill: '#6d6d6d',\n      text: '0',\n    },\n  },\n};\n\nconst placeMarkup = {\n  markup: [\n    {\n      tagName: 'ellipse',\n      selector: 'body',\n      attributes: {\n        magnet: 'on-ctrl',\n      },\n    },\n    {\n      tagName: 'text',\n      selector: 'label',\n    },\n    {\n      tagName: 'text',\n      selector: 'dataType',\n    },\n    {\n      tagName: 'text',\n      selector: 'initialState',\n    },\n    {\n      tagName: 'text',\n      selector: 'count',\n    },\n  ],\n};\n\nconst transitionDefault = {\n  ports: {\n    groups: {\n      input: {\n        attrs: {\n          circle: {\n            fill: '#409EFF',\n            stroke: 'none',\n            r: 5,\n            magnet: 'passive',\n            'data-name': '',\n            'data-type': '',\n          },\n          text: {\n            fontSize: 12,\n            fill: '#6d6d6d',\n          },\n        },\n        label: {\n          position: 'insideOriented',\n        },\n        position: {\n          name: 'line',\n          args: {\n            start: { x: -120, y: -40 },\n            end: { x: -120, y: 40 },\n          },\n        },\n      },\n      output: {\n        attrs: {\n          circle: {\n            fill: '#67C23A',\n            stroke: 'none',\n            r: 5,\n            magnet: 'on-ctrl',\n            'data-name': '',\n            'data-type': '',\n          },\n          text: {\n            fontSize: 12,\n            fill: '#6d6d6d',\n          },\n        },\n        label: {\n          position: 'insideOriented',\n        },\n        position: {\n          name: 'line',\n          args: {\n            start: { x: 120, y: -40 },\n            end: { x: 120, y: 40 },\n          },\n        },\n      },\n    },\n  },\n  attrs: {\n    '.': {\n      magnet: false,\n    },\n    body: {\n      refx: '100%',\n      refy: '100%',\n      strokeWidth: 2,\n      x: -120,\n      y: -40,\n      width: 240,\n      height: 80,\n      rx: 4,\n      ry: 4,\n      stroke: '#8f8f8f',\n      fill: '#FFFFFF',\n    },\n    label: {\n      ref: 'body',\n      textVerticalAnchor: 'bottom',\n      textAnchor: 'middle',\n      refX: '50%',\n      refY: '0%',\n      fontSize: 12,\n      fill: '#6d6d6d',\n      text: 'New Transition',\n    },\n    action: {\n      ref: 'body',\n      textVerticalAnchor: 'middle',\n      textAnchor: 'middle',\n      refX: '105%',\n      refY: '110%',\n      fontSize: 12,\n      fill: '#6d6d6d',\n      text: '',\n    },\n  },\n};\n\nconst transitionMarkup = {\n  markup: [\n    {\n      tagName: 'rect',\n      selector: 'body',\n    },\n    {\n      tagName: 'text',\n      selector: 'label',\n    },\n    {\n      tagName: 'text',\n      selector: 'action',\n    },\n  ],\n};\n\nexport default {\n  components: {\n    EditorProperties,\n    Workspace,\n  },\n\n  data() {\n    return {\n      loading: true,\n    };\n  },\n\n  computed: {\n    tool() {\n      return this.$store.getters.tool;\n    },\n    selectedElement() {\n      return this.$store.getters.selectedElement;\n    },\n    step() {\n      return this.$store.getters.step;\n    },\n    actions() {\n      return this.$store.getters.actions;\n    },\n    dataTypes() {\n      return this.$store.getters.dataTypes;\n    },\n    graph: {\n      get() { return this.$store.getters.graph; },\n      set(newValue) { this.$store.commit('setGraph', newValue); },\n    },\n    paperEl: {\n      get() { return this.$store.getters.paperEl; },\n      set(newValue) { this.$store.commit('setPaperEl', newValue); },\n    },\n    paper: {\n      get() { return this.$store.getters.paper; },\n      set(newValue) { this.$store.commit('setPaper', newValue); },\n    },\n\n  },\n\n  methods: {\n    drag(x, y) {\n      if (this.tool === 'cursor' && dragging) {\n        const offsetX = x - dragOx;\n        const offsetY = y - dragOy;\n        this.paper.setOrigin(\n          this.paper.options.origin.x + offsetX,\n          this.paper.options.origin.y + offsetY,\n        );\n        window.$('body').css('cursor', 'grabbing');\n      }\n    },\n\n    startDrag(x, y) {\n      if (this.tool === 'cursor') {\n        this.paper.setInteractivity({ elementMove: false });\n        dragOx = x;\n        dragOy = y;\n        dragging = true;\n      }\n    },\n\n    stopDrag() {\n      this.paper.setInteractivity({ elementMove: true });\n      dragging = false;\n      window.$('body').css('cursor', 'auto');\n    },\n\n    setUpPaper() {\n      window.joint.dia.Element.define('psim.Place', placeDefault, placeMarkup);\n      window.joint.dia.Element.define('psim.Transition', transitionDefault, transitionMarkup);\n      this.graph = new window.joint.dia.Graph();\n      this.paperEl = window.$('#paper');\n      this.paper = new window.joint.dia.Paper({\n        el: this.paperEl,\n        model: this.graph,\n        width: this.paperEl.width(),\n        height: this.paperEl.height(),\n        gridSize: 10,\n        drawGrid: true,\n        linkPinning: false,\n        defaultLink: () => new window.joint.shapes.standard.Link({\n          router: {\n            name: 'orthogonal',\n            args: {\n              step: 10,\n              perpendicular: true,\n            },\n          },\n        }),\n        validateMagnet: (_view, magnet, evt) => magnet.getAttribute('magnet') === 'on-ctrl' && evt.ctrlKey,\n        validateConnection: (viewSrc, modelSrc, viewTgt, modelTgt, end, linkView) => {\n          if (viewSrc.model.attributes.type === viewTgt.model.attributes.type) return false;\n\n          if (!viewTgt || !modelTgt) return false;\n\n          if (modelTgt.getAttribute('port-group') === 'output') return false;\n\n          if (viewSrc.model.attributes.type === 'psim.Place'\n          && viewSrc.model.attributes.attrs.dataType.text !== modelTgt.attributes['data-type'].nodeValue) return false;\n\n          if (viewSrc.model.attributes.type === 'psim.Transition'\n          && viewTgt.model.attributes.attrs.dataType.text !== modelSrc.attributes['data-type'].nodeValue) return false;\n\n          if (viewTgt.model.attributes.type === 'psim.Transition') {\n            const portUsed = this.graph.getLinks().some((link) => (link.id !== linkView.model.id\n                      && link.get('target').id === viewTgt.model.id\n                      && link.get('target').port === modelTgt.getAttribute('port')));\n\n            if (portUsed) return false;\n          }\n\n          return true;\n        },\n      });\n\n      this.paper.on({\n        'element:mouseenter': (cellView) => {\n          if (cellView.model.attributes.type === 'psim.Place') {\n            cellView.addTools(new window.joint.dia.ToolsView({\n              tools: [\n                new window.joint.elementTools.Remove({\n                  useModelGeometry: true,\n                  x: '50%',\n                  y: '50%',\n                  action: (evt, elementView, toolView) => {\n                    this.$store.commit('removePlace', elementView.model.id);\n                    elementView.model.remove({ ui: true, tool: toolView.cid });\n                  },\n                  offset: {\n                    x: -30,\n                    y: 30,\n                  },\n                }),\n              ],\n            }));\n            return;\n          }\n\n          if (cellView.model.attributes.type === 'psim.Transition') {\n            cellView.addTools(new window.joint.dia.ToolsView({\n              tools: [\n                new window.joint.elementTools.Remove({\n                  useModelGeometry: true,\n                  x: '0%',\n                  y: '0%',\n                  action: (evt, elementView, toolView) => {\n                    this.$store.commit('removeTransition', elementView.model.id);\n                    elementView.model.remove({ ui: true, tool: toolView.cid });\n                  },\n                  offset: {\n                    x: 120,\n                    y: -40,\n                  },\n                }),\n              ],\n            }));\n          }\n        },\n        'link:connect': (linkView, evt, elementViewConnected, magnet) => {\n          const tgtType = elementViewConnected.model.attributes.type;\n          if (tgtType === 'psim.Transition') {\n            this.$store.commit('addInputLink', {\n              placeId: linkView.model.get('source').id,\n              transitionId: linkView.model.get('target').id,\n              portName: magnet.attributes['data-name'].nodeValue,\n            });\n          } else if (tgtType === 'psim.Place') {\n            const port = this.graph.getCell(linkView.model.get('source').id).getPort(linkView.model.get('source').port);\n            this.$store.commit('addOutputLink', {\n              placeId: elementViewConnected.model.attributes.id,\n              transitionId: linkView.model.get('source').id,\n              portName: port.attrs.circle['data-name'],\n            });\n          }\n        },\n        'link:mouseenter': (linkView) => {\n          linkView.addTools(new window.joint.dia.ToolsView({\n            tools: [\n              new window.joint.linkTools.Vertices({ snapRadius: 0 }),\n              new window.joint.linkTools.Remove({\n                distance: 20,\n                action: (evt, _linkView, toolView) => {\n                  const src = _linkView.model.get('source');\n                  const tgt = _linkView.model.get('target');\n                  let args = {};\n                  if (src.magnet === 'body') { // src place\n                    const port = this.graph.getCell(tgt.id).getPort(tgt.port);\n                    args = {\n                      placeId: src.id,\n                      transitionId: tgt.id,\n                      portName: port.attrs.circle['data-name'],\n                    };\n                    this.$store.commit('removeInputLink', args);\n                  } else if (src.magnet === 'circle') { // src transition\n                    const port = this.graph.getCell(src.id).getPort(src.port);\n                    args = {\n                      placeId: tgt.id,\n                      transitionId: src.id,\n                      portName: port.attrs.circle['data-name'],\n                    };\n                    this.$store.commit('removeOutputLink', args);\n                  }\n\n                  _linkView.model.remove({ ui: true, tool: toolView.cid });\n                },\n              }),\n            ],\n          }));\n        },\n        'cell:mouseleave': (cellView) => {\n          cellView.removeTools();\n        },\n        'cell:pointerclick': async (cellView) => {\n          if (this.tool === 'cursor') {\n            if (this.selectedElement) {\n              const oldCellView = this.$store.getters.getCellViewById(this.selectedElement.id);\n              oldCellView.unhighlight();\n            }\n            const element = this.$store.getters.getElementById(cellView.model.id);\n            this.$store.commit('selectElement', element);\n            cellView.highlight();\n            return;\n          }\n          if (this.tool === 'execute') {\n            await this.$store.commit('fireTransition', cellView.model.attributes.id);\n          }\n        },\n        'blank:pointerclick': (evt, x, y) => {\n          if (this.tool === 'transition') {\n            const cell = new window.joint.shapes.psim.Transition();\n            cell.position(x, y);\n            cell.addTo(this.graph);\n            const element = {\n              id: cell.id,\n              type: 'transition',\n              attrs: {\n                label: 'New Transition',\n                action: '',\n                inputs: {},\n                outputs: {},\n                status: 'Enabled', // disabled, enabled, ready\n              },\n            };\n\n            this.$store.commit('addElement', element);\n            return;\n          }\n\n          if (this.tool === 'place') {\n            const cell = new window.joint.shapes.psim.Place();\n            cell.position(x, y);\n            cell.addTo(this.graph);\n            const element = {\n              id: cell.id,\n              type: 'place',\n              attrs: {\n                label: 'New Place',\n                dataType: 'integer',\n                initialState: [],\n                initialStateString: '',\n                currentState: [],\n                currentStateString: '',\n                inputs: [],\n                outputs: [],\n                count: 0,\n              },\n            };\n\n            this.$store.commit('addElement', element);\n            return;\n          }\n          if (this.tool === 'cursor') {\n            if (this.selectedElement) {\n              const oldCellView = this.$store.getters.getCellViewById(this.selectedElement.id);\n              oldCellView.unhighlight();\n              this.$store.commit('selectElement', undefined);\n            }\n          }\n        },\n        'blank:pointerdown': (evt, x, y) => {\n          this.startDrag(x, y);\n        },\n        'cell:pointermove': (evt, x, y) => {\n          this.drag(x, y);\n        },\n        'blank:pointermove': (evt, x, y) => {\n          this.drag(x, y);\n        },\n        'cell:pointerup': () => {\n          this.stopDrag();\n        },\n        'blank:pointerup': () => {\n          this.stopDrag();\n        },\n        'paper:mouseleave': () => {\n          this.stopDrag();\n        },\n      });\n    },\n  },\n\n  async mounted() {\n    try {\n      await this.$loadScript('https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.js');\n      await this.$loadScript('https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.20/lodash.js');\n      await this.$loadScript('https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.4.0/backbone.js');\n      await this.$loadScript('https://cdnjs.cloudflare.com/ajax/libs/jointjs/3.3.1/joint.js');\n\n      const actionsResponse = await this.axios.get(`${psActions}/actions`);\n      this.actions.push(...actionsResponse.data);\n\n      const dataTypesResponse = await this.axios.get(`${psActions}/types`);\n      this.dataTypes.push(...dataTypesResponse.data);\n\n      this.setUpPaper();\n    } catch (err) {\n      // report error\n      console.log(err);\n      this.$alert('Failed to load 3rd party libraries', 'Error', {\n        confirmButtonText: 'OK',\n        type: 'error',\n        callback: () => {\n          this.$router.push('500');\n        },\n      });\n    } finally {\n      this.loading = false;\n    }\n  },\n};\n</script>\n\n<style scoped>\n.page-container {\n  height: 95vh;\n  width: 95vw;\n  margin: auto;\n}\n\n.aside-container {\n  background-color: rgb(238, 241, 246);\n}\n\n</style>\n","<template>\n  <div class=\"editor-Properties\">\n    <h3>Properties</h3>\n    <el-collapse v-model=\"activeItems\">\n      <el-collapse-item title=\"Execution\" name=\"execution\">\n        <ExecutionMenu />\n      </el-collapse-item>\n      <el-collapse-item title=\"Selected element\" name=\"selectedElement\">\n        <SelectedElementMenu />\n      </el-collapse-item>\n      <el-collapse-item title=\"Storage\" name=\"storage\">\n      </el-collapse-item>\n    </el-collapse>\n  </div>\n</template>\n\n<script>\nimport ExecutionMenu from '@/components/ExecutionMenu.vue';\nimport SelectedElementMenu from '@/components/SelectedElementMenu.vue';\n\nexport default {\n  name: 'EditorProperties',\n\n  data() {\n    return {\n      activeItems: [\n        'execution',\n        'selectedElement',\n      ],\n    };\n  },\n\n  components: {\n    ExecutionMenu,\n    SelectedElementMenu,\n  },\n};\n</script>\n\n<style scoped>\n</style>\n","<template>\n  <div class=\"execution-menu\">\n    <el-form label-width=\"30%\" size=\"mini\">\n      <el-form-item label=\"Step\">\n        <el-input v-model=\"step\" readonly></el-input>\n      </el-form-item>\n      <el-form-item label=\"Logs\">\n        <el-input\n          type=\"textarea\"\n          v-model=\"logs\"\n          readonly\n          placeholder=\"empty\"\n          :autosize=\"{ minRows: 3, maxRows: 6 }\"\n          resize=\"none\"\n        >\n        </el-input>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ExecutionMenu',\n\n  computed: {\n    step() {\n      return this.$store.getters.step;\n    },\n    logs() {\n      return this.$store.getters.logsString;\n    },\n  },\n};\n</script>\n","import { render } from \"./ExecutionMenu.vue?vue&type=template&id=2784e062\"\nimport script from \"./ExecutionMenu.vue?vue&type=script&lang=js\"\nexport * from \"./ExecutionMenu.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"selected-element-menu\">\n    <el-empty v-if=\"!selectedElement\" description=\"No element selected\"></el-empty>\n    <el-form v-else-if=\"selectedElement.type === 'place'\" label-width=\"30%\" size=\"mini\">\n      <el-form-item label=\"Label\">\n        <el-input v-model=\"selectedElement.attrs.label\" @input=\"updateLabel\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"Datatype\">\n        <el-select v-model=\"selectedElement.attrs.dataType\" filterable @change=\"updateDataType\">\n          <el-option\n            v-for=\"item in dataTypes\"\n            :key=\"item\"\n            :label=\"item\"\n            :value=\"item\">\n            <span class=\"select-item\">{{ item }}</span>\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"Initial state\">\n        <el-input\n          type=\"textarea\"\n          v-model=\"selectedElement.attrs.initialStateString\"\n          placeholder=\"empty\"\n          :autosize=\"{ minRows: 3, maxRows: 6 }\"\n          resize=\"none\"\n          @input=\"updateInitialStateString\"\n        >\n        </el-input>\n      </el-form-item>\n      <el-form-item label=\"Current state\">\n        <el-input\n          type=\"textarea\"\n          v-model=\"selectedElement.attrs.currentStateString\"\n          placeholder=\"empty\"\n          :autosize=\"{ minRows: 3, maxRows: 6 }\"\n          resize=\"none\"\n          readonly\n        >\n        </el-input>\n      </el-form-item>\n      <el-form-item label=\"Count\">\n        <el-input v-model=\"selectedElement.attrs.count\" readonly></el-input>\n      </el-form-item>\n    </el-form>\n    <el-form v-else-if=\"selectedElement.type === 'transition'\" label-width=\"30%\" size=\"mini\">\n      <el-form-item label=\"Label\">\n        <el-input v-model=\"selectedElement.attrs.label\" @input=\"updateLabel\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"Action\">\n        <el-select v-model=\"selectedElement.attrs.action\" filterable @change=\"updateAction\">\n          <el-option\n            v-for=\"item in actions\"\n            :key=\"item.name\"\n            :label=\"item.name\"\n            :value=\"item.name\">\n            <span class=\"select-item\">{{ item.name }}</span>\n          </el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"Status\">\n        <el-input v-model=\"selectedElement.attrs.status\" readonly></el-input>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'SelectedElementMenu',\n\n  data() {\n    return {\n    };\n  },\n\n  computed: {\n    selectedElement() {\n      return this.$store.getters.selectedElement;\n    },\n    actions() {\n      return this.$store.getters.actions;\n    },\n    dataTypes() {\n      return this.$store.getters.dataTypes;\n    },\n  },\n\n  methods: {\n    updateLabel(newValue) {\n      this.$store.commit('updateElementLabel', newValue);\n    },\n    updateDataType(newValue) {\n      this.$store.commit('updateElementDataType', newValue);\n    },\n    updateInitialStateString(newValue) {\n      this.$store.commit('updateElementInitialStateString', newValue);\n    },\n    updateAction(newValue) {\n      this.$store.commit('updateElementAction', newValue);\n    },\n  },\n};\n</script>\n","import { render } from \"./SelectedElementMenu.vue?vue&type=template&id=fe624b70\"\nimport script from \"./SelectedElementMenu.vue?vue&type=script&lang=js\"\nexport * from \"./SelectedElementMenu.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./EditorProperties.vue?vue&type=template&id=2a5bc2e4&scoped=true\"\nimport script from \"./EditorProperties.vue?vue&type=script&lang=js\"\nexport * from \"./EditorProperties.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-2a5bc2e4\"\n\nexport default script","<template>\n  <el-tabs type=\"border-card\" class=\"el-tabs\">\n    <el-tab-pane :label=\"modelName\" class=\"tab-content\">\n      <ControlBar />\n      <div id=\"paper\"></div>\n    </el-tab-pane>\n    <el-tab-pane label=\"Display\">Display</el-tab-pane>\n  </el-tabs>\n</template>\n\n<script>\nimport ControlBar from '@/components/ControlBar.vue';\n\nexport default {\n  name: 'Workspace',\n  data() {\n    return {\n      modelName: 'MyTestModel',\n    };\n  },\n\n  components: {\n    ControlBar,\n  },\n};\n</script>\n\n<style scoped>\n.el-tabs {\n  height: 98%;\n}\n\n.tab-content {\n  height: 100%;\n}\n\n#paper {\n  height: 100%;\n  width: 100%;\n}\n</style>\n\n<style>\n.el-tabs--border-card > .el-tabs__content {\n  padding: 0px 0px 0px 0px !important;\n}\n\n.el-tabs__content {\n  height: calc(100% - 39px);\n}\n</style>\n","<template>\n  <div class=\"control-bar\">\n    <el-button-group class=\"tools\">\n      <el-tooltip\n      class=\"item\"\n      effect=\"dark\"\n      content=\"Cursor tool\"\n      placement=\"top-start\"\n      :show-after=\"2400\">\n        <el-button :type=\"btnType.cursor\" size=\"mini\" @click=\"selectTool('cursor')\">\n          <i class=\"fas fa-mouse-pointer\"></i>\n        </el-button>\n      </el-tooltip>\n      <el-tooltip\n      class=\"item\"\n      effect=\"dark\"\n      content=\"Place tool\"\n      placement=\"top-start\"\n      :show-after=\"2400\">\n        <el-button :type=\"btnType.place\" size=\"mini\" @click=\"selectTool('place')\">\n          <i class=\"fas fa-circle\"></i>\n        </el-button>\n      </el-tooltip>\n      <el-tooltip\n      class=\"item\"\n      effect=\"dark\"\n      content=\"Transition tool\"\n      placement=\"top-start\"\n      :show-after=\"2400\">\n        <el-button :type=\"btnType.transition\" size=\"mini\" @click=\"selectTool('transition')\">\n          <i class=\"fas fa-square\"></i>\n        </el-button>\n      </el-tooltip>\n      <el-tooltip\n      class=\"item\"\n      effect=\"dark\"\n      content=\"Execute tool\"\n      placement=\"top-start\"\n      :show-after=\"2400\">\n        <el-button :type=\"btnType.execute\" size=\"mini\" @click=\"selectTool('execute')\">\n          <i class=\"fas fa-bolt\"></i>\n        </el-button>\n      </el-tooltip>\n    </el-button-group>\n    <el-button-group class=\"simulation\">\n      <el-tooltip\n      class=\"item\"\n      effect=\"dark\"\n      content=\"Fast backward\"\n      placement=\"top-start\"\n      :show-after=\"2400\">\n        <el-button type=\"default\" size=\"mini\" @click=\"fastBackward()\">\n          <i class=\"fas fa-fast-backward\"></i>\n        </el-button>\n      </el-tooltip>\n      <el-tooltip\n      class=\"item\"\n      effect=\"dark\"\n      content=\"Step forward\"\n      placement=\"top-start\"\n      :show-after=\"2400\">\n        <el-button type=\"default\" size=\"mini\" @click=\"stepForward()\">\n          <i class=\"fas fa-step-forward\"></i>\n        </el-button>\n      </el-tooltip>\n    </el-button-group>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ControlBar',\n  data() {\n    return {\n      btnType: {\n        cursor: 'primary',\n        place: 'default',\n        transition: 'default',\n        execute: 'default',\n      },\n    };\n  },\n\n  computed: {\n    tool() {\n      return this.$store.getters.tool;\n    },\n  },\n\n  methods: {\n    selectTool(newTool) {\n      this.btnType[this.tool] = 'default';\n      this.$store.commit('selectTool', newTool);\n      this.btnType[this.tool] = 'primary';\n    },\n\n    fastBackward() {\n      this.$store.commit('resetState');\n    },\n\n    stepForward() {\n      this.$store.commit('stepForward');\n    },\n  },\n};\n</script>\n\n<style scoped>\n.control-bar {\n  position: absolute;\n  margin: 1em 1em 1em 1em;\n}\n\n.simulation {\n  margin-left: 1em;\n}\n</style>\n","import { render } from \"./ControlBar.vue?vue&type=template&id=bcab461c&scoped=true\"\nimport script from \"./ControlBar.vue?vue&type=script&lang=js\"\nexport * from \"./ControlBar.vue?vue&type=script&lang=js\"\n\nimport \"./ControlBar.vue?vue&type=style&index=0&id=bcab461c&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-bcab461c\"\n\nexport default script","import { render } from \"./Workspace.vue?vue&type=template&id=759a7d58&scoped=true\"\nimport script from \"./Workspace.vue?vue&type=script&lang=js\"\nexport * from \"./Workspace.vue?vue&type=script&lang=js\"\n\nimport \"./Workspace.vue?vue&type=style&index=0&id=759a7d58&scoped=true&lang=css\"\nimport \"./Workspace.vue?vue&type=style&index=1&id=759a7d58&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-759a7d58\"\n\nexport default script","import { render } from \"./Editor.vue?vue&type=template&id=e97d3f30&scoped=true\"\nimport script from \"./Editor.vue?vue&type=script&lang=js\"\nexport * from \"./Editor.vue?vue&type=script&lang=js\"\n\nimport \"./Editor.vue?vue&type=style&index=0&id=e97d3f30&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-e97d3f30\"\n\nexport default script","import { createRouter, createWebHistory } from 'vue-router';\nimport InternalServerError from '../views/errors/InternalServerError.vue';\nimport Editor from '../views/Editor.vue';\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Editor',\n    component: Editor,\n  },\n  {\n    path: '/500',\n    name: 'InternalServerError',\n    component: InternalServerError,\n  },\n];\n\nconst withPrefix = (routes, prefix) => routes.map(route => ({\n  ...route,\n  path: `/${prefix}${route.path}`,\n  name: `${prefix}-${route.name}`,\n}));\n\nconsole.log(routes.concat(withPrefix(routes, 'editor')))\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes: routes.concat(withPrefix(routes, 'editor')),\n});\n\nexport default router;\n","import { createStore } from 'vuex';\nimport axios from 'axios';\nimport { ElNotification } from 'element-plus';\n\nconst psActions = 'http://localhost:5000';\n\nconst successColor = '#67C23A';\nconst errorColor = '#F56C6C';\n\nconst transitionColor = {\n  Enabled: '#8f8f8f',\n  Disabled: errorColor,\n  Ready: successColor,\n};\n\nconst formatInitialStateView = (val) => {\n  if (val.length > 8) {\n    let newStr = '';\n    for (let i = 0; i < val.length; i += 8) {\n      if (i > 16) {\n        newStr += '...';\n        break;\n      } else if (i + 8 < val.length) {\n        newStr += `${val.slice(i, i + 8)}\\n `;\n      } else {\n        newStr += `${val.slice(i, i + 8)}`;\n      }\n    }\n\n    return newStr;\n  }\n\n  return val;\n};\n\nconst validateTokens = async (data, type) => {\n  const promises = [];\n  data.forEach((value) => {\n    const response = axios({\n      method: 'POST',\n      url: `${psActions}/types/check`,\n      data: {\n        type,\n        value,\n      },\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n    promises.push(response);\n  });\n  try {\n    const result = await Promise.all(promises);\n    return result.every((response) => response.data.valid);\n  } catch (err) {\n    return false;\n  }\n};\n\nconst updateInitialState = async (tgtElement, dataString, type, state) => {\n  let data;\n  let validData = false;\n  const element = tgtElement;\n  try {\n    data = JSON.parse(`[${dataString}]`);\n    validData = await validateTokens(data, type);\n    if (!validData) throw new Error('Error validating initial state');\n  } catch (err) {\n    data = [];\n  } finally {\n    element.attrs.initialState = data;\n    const cell = state.graph.getCell(element.id);\n    const initialStateFormatedString = formatInitialStateView(dataString);\n    cell.attr({\n      initialState: {\n        fill: validData ? successColor : errorColor,\n        text: `[${initialStateFormatedString}]`,\n      },\n    });\n    if (state.step === 0) {\n      const count = data ? data.length : 0;\n      element.attrs.count = count;\n      element.attrs.currentState = element.attrs.initialState;\n      element.attrs.currentStateString = data && data.length\n        ? element.attrs.initialStateString : '';\n      cell.attr({\n        count: {\n          text: count.toString(),\n        },\n      });\n    }\n  }\n};\n\nconst checkTransitionStatus = (state, transition) => {\n  const inputs = Object.values(transition.attrs.inputs);\n  const inputLinked = inputs.every((item) => !!item);\n  if (!inputLinked) return 'Disabled';\n\n  const reqCount = {};\n  inputs.forEach((input) => {\n    reqCount[input] = (reqCount[input] || 0) + 1;\n  });\n\n  const places = Object.keys(reqCount);\n\n  const isReady = places.every((id) => {\n    const place = state.elements.find((item) => id === item.id);\n    return place.attrs.count >= reqCount[id];\n  });\n\n  if (isReady) return 'Ready';\n\n  return 'Enabled';\n};\n\nconst refreshTransitionStatus = (state, transitionId) => {\n  const transitionElement = state.elements.find((item) => transitionId === item.id);\n  transitionElement.attrs.status = checkTransitionStatus(state, transitionElement);\n  const transitionCell = state.graph.getCell(transitionId);\n  transitionCell.attr({\n    body: {\n      stroke: transitionColor[transitionElement.attrs.status],\n    },\n  });\n};\n\nconst addLog = (state, message, type) => {\n  const dt = new Date();\n  const formatedDate = `${\n    (dt.getMonth() + 1).toString().padStart(2, '0')}/${\n    dt.getDate().toString().padStart(2, '0')}/${\n    dt.getFullYear().toString().padStart(4, '0')} ${\n    dt.getHours().toString().padStart(2, '0')}:${\n    dt.getMinutes().toString().padStart(2, '0')}:${\n    dt.getSeconds().toString().padStart(2, '0')}`;\n  state.logs.push(`[${formatedDate}] ${message}`);\n  if (type === 'success') {\n    ElNotification({\n      title: 'Success',\n      message,\n      type: 'success',\n    });\n  } else if (type === 'error') {\n    ElNotification.error({\n      title: 'Error',\n      message,\n    });\n  } else if (type === 'info') {\n    ElNotification.info({\n      title: 'Info',\n      message,\n    });\n  }\n};\n\nconst removeLinksFromPlace = (state, placeId) => {\n  const place = state.elements.find((item) => placeId === item.id);\n\n  place.attrs.outputs.forEach((output) => {\n    const transition = state.elements.find((item) => output.transitionId === item.id);\n    transition.attrs.inputs[output.portName] = undefined;\n\n    refreshTransitionStatus(state, output.transitionId);\n  });\n\n  place.attrs.inputs.forEach((input) => {\n    const transition = state.elements.find((item) => input.transitionId === item.id);\n    transition.attrs.outputs[input.portName] = transition.attrs.output[input.portName]\n      .filter((item) => item !== input.transitionId);\n  });\n\n  state.graph.removeLinks(state.graph.getCell(placeId));\n};\n\nconst fireSelectedTransition = async (state, transitionId) => {\n  const transition = state.elements.find((item) => transitionId === item.id);\n  const status = checkTransitionStatus(state, transition);\n  const inputs = {};\n  if (status === 'Ready') {\n    try {\n      const actionName = transition.attrs.action;\n      if (!actionName) return;\n\n      const inputPorts = Object.keys(transition.attrs.inputs);\n      inputPorts.forEach((port) => {\n        const place = state.elements.find((item) => item.id === transition.attrs.inputs[port]);\n        inputs[port] = place.attrs.currentState.pop();\n        place.attrs.count -= 1;\n        const auxString = JSON.stringify(place.attrs.currentState);\n        place.attrs.currentStateString = auxString.slice(1, -1);\n\n        const cell = state.graph.getCell(place.id);\n        cell.attr({\n          count: {\n            text: place.attrs.count.toString(),\n          },\n        });\n      });\n\n      const res = await axios({\n        method: 'POST',\n        url: `${psActions}/actions/${actionName}/execute`,\n        data: inputs,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n\n      inputPorts.forEach((port) => {\n        const place = state.elements.find((item) => item.id === transition.attrs.inputs[port]);\n\n        place.attrs.outputs.forEach((transitionOutput) => {\n          refreshTransitionStatus(state, transitionOutput.transitionId);\n        });\n      });\n\n      const outputPorts = Object.keys(transition.attrs.outputs);\n\n      outputPorts.forEach((port) => {\n        transition.attrs.outputs[port].forEach((placeId) => {\n          const place = state.elements.find((item) => item.id === placeId);\n          place.attrs.count += 1;\n          place.attrs.currentState.push(res.data[port]);\n          const auxString = JSON.stringify(place.attrs.currentState);\n          place.attrs.currentStateString = auxString.slice(1, -1);\n\n          const cell = state.graph.getCell(place.id);\n          cell.attr({\n            count: {\n              text: place.attrs.count.toString(),\n            },\n          });\n\n          place.attrs.outputs.forEach((transitionOutput) => {\n            refreshTransitionStatus(state, transitionOutput.transitionId);\n          });\n        });\n      });\n\n      // refreshTransitionStatus(state, transitionId);\n      state.step += 1;\n\n      const msg = `Transition \"${transition.attrs.label}\" fired successfully`;\n      addLog(state, msg, 'success');\n\n      return;\n    } catch (err) {\n      console.log(err);\n\n      const msg = `Failed to fire transition \"${transition.attrs.label}\"`;\n      addLog(state, msg, 'error');\n\n      const inputsArr = Object.keys(inputs);\n\n      inputsArr.forEach((input) => {\n        const placeId = transition.attrs.inputs[input];\n        const place = state.elements.find((item) => item.id === placeId);\n        place.attrs.currentState.push(inputs[input]);\n        place.attrs.count += 1;\n        const auxString = JSON.stringify(place.attrs.currentState);\n        place.attrs.currentStateString = auxString.slice(1, -1);\n        const cell = state.graph.getCell(place.id);\n        cell.attr({\n          count: {\n            text: place.attrs.count.toString(),\n          },\n        });\n      });\n    }\n  }\n};\n\nexport default createStore({\n  state: {\n    tool: 'cursor',\n    selectedElement: undefined,\n    elements: [],\n    step: 0,\n    actions: [],\n    dataTypes: [],\n    graph: undefined,\n    paperEl: undefined,\n    paper: undefined,\n    logs: [],\n  },\n  mutations: {\n    removePlace(state, placeId) {\n      const place = state.elements.find((item) => item.id === placeId);\n      if (state.selectedElement && place.id === state.selectedElement.id) {\n        state.selectedElement = undefined;\n      }\n\n      place.attrs.outputs.forEach((output) => {\n        const transition = state.elements.find((item) => item.id === output.transitionId);\n        transition.attrs.inputs[output.portName] = undefined;\n        refreshTransitionStatus(state, transition.id);\n      });\n\n      place.attrs.inputs.forEach((input) => {\n        const transition = state.elements.find((item) => item.id === input.transitionId);\n        const idxT = transition.attrs.outputs[input.portName].findIndex((item) => item === placeId);\n        transition.attrs.outputs[input.portName].splice(idxT, 1);\n      });\n\n      const idx = state.elements.findIndex((item) => item.id === placeId);\n      state.elements.splice(idx, 1);\n    },\n    removeTransition(state, transitionId) {\n      const transition = state.elements.find((item) => item.id === transitionId);\n      if (state.selectedElement && transition.id === state.selectedElement.id) {\n        state.selectedElement = undefined;\n      }\n\n      const inputPlacesIds = Object.values(transition.attrs.inputs);\n\n      inputPlacesIds.forEach((placeId) => {\n        if (placeId) {\n          const place = state.elements.find((item) => item.id === placeId);\n          place.attrs.outputs = place.attrs.outputs.filter(\n            (item) => item.transitionId !== transitionId,\n          );\n        }\n      });\n\n      const outputPorts = Object.values(transition.attrs.outputs);\n\n      outputPorts.forEach((port) => {\n        port.forEach((placeId) => {\n          if (placeId) {\n            const place = state.elements.find((item) => item.id === placeId);\n            place.attrs.inputs = place.attrs.inputs.filter(\n              (item) => item.transitionId !== transitionId,\n            );\n          }\n        });\n      });\n\n      const idx = state.elements.findIndex((item) => item.id === transitionId);\n      state.elements.splice(idx, 1);\n    },\n    removeInputLink(state, args) {\n      const place = state.elements.find((item) => item.id === args.placeId);\n\n      const idx = place.attrs.outputs\n        .findIndex(\n          (item) => item.transitionId === args.transitionId && item.portName === args.portName,\n        );\n      place.attrs.outputs.splice(idx, 1);\n\n      const transition = state.elements.find((item) => item.id === args.transitionId);\n      transition.attrs.inputs[args.portName] = undefined;\n\n      refreshTransitionStatus(state, args.transitionId);\n    },\n\n    removeOutputLink(state, args) {\n      const place = state.elements.find((item) => item.id === args.placeId);\n\n      const idxP = place.attrs.inputs\n        .findIndex(\n          (item) => item.transitionId === args.transitionId && item.portName === args.portName,\n        );\n      place.attrs.inputs.splice(idxP, 1);\n\n      const transition = state.elements.find((item) => item.id === args.transitionId);\n      const idxT = transition.attrs.outputs[args.portName]\n        .findIndex((item) => item === args.placeId);\n      transition.attrs.outputs[args.portName].splice(idxT, 1);\n    },\n\n    stepForward: async (state) => {\n      const readyTransitions = state.elements.filter((item) => item.type === 'transition' && item.attrs.status === 'Ready');\n      const len = readyTransitions.length;\n      if (len === 0) {\n        addLog(state, 'No transition ready', 'info');\n        return;\n      }\n\n      const transitionIdx = Math.floor(Math.random() * len);\n\n      await fireSelectedTransition(state, readyTransitions[transitionIdx].id);\n    },\n    resetState: async (state) => {\n      state.step = 0;\n      const places = state.elements.filter((item) => item.type === 'place');\n      const promises = [];\n      places.forEach((place) => {\n        promises\n          .push(\n            updateInitialState(place, place.attrs.initialStateString, place.attrs.dataType, state),\n          );\n      });\n\n      await Promise.all(promises);\n\n      const transitions = state.elements.filter((item) => item.type === 'transition');\n\n      transitions.forEach((transition) => {\n        refreshTransitionStatus(state, transition.id);\n      });\n\n      addLog(state, 'Model state reseted', 'info');\n    },\n    fireTransition: async (state, transitionId) => {\n      fireSelectedTransition(state, transitionId);\n    },\n    addInputLink(state, args) {\n      const placeElement = state.elements.find((item) => args.placeId === item.id);\n      const transitionElement = state.elements.find((item) => args.transitionId === item.id);\n      transitionElement.attrs.inputs[args.portName] = args.placeId;\n      placeElement.attrs.outputs.push({ transitionId: args.transitionId, portName: args.portName });\n      refreshTransitionStatus(state, args.transitionId);\n    },\n    addOutputLink(state, args) {\n      const placeElement = state.elements.find((item) => args.placeId === item.id);\n      const transitionElement = state.elements.find((item) => args.transitionId === item.id);\n\n      transitionElement.attrs.outputs[args.portName].push(args.placeId);\n\n      placeElement.attrs.inputs.push({ transitionId: args.transitionId, portName: args.portName });\n    },\n    selectTool(state, newTool) {\n      state.tool = newTool;\n    },\n    addElement(state, element) {\n      state.elements.push(element);\n    },\n    selectElement(state, element) {\n      state.selectedElement = element;\n    },\n    setGraph(state, graph) {\n      state.graph = graph;\n    },\n    setPaper(state, paper) {\n      state.paper = paper;\n    },\n    setPaperEl(state, paperEl) {\n      state.paperEl = paperEl;\n    },\n    updateElementLabel(state, label) {\n      const cell = state.graph.getCell(state.selectedElement.id);\n      cell.attr({\n        label: {\n          text: label,\n        },\n      });\n    },\n    updateElementDataType: async (state, type) => {\n      const cell = state.graph.getCell(state.selectedElement.id);\n      cell.attr({\n        dataType: {\n          text: type,\n        },\n      });\n      await updateInitialState(\n        state.selectedElement, state.selectedElement.attrs.initialStateString, type, state,\n      );\n      if (state.step > 0) {\n        state.selectedElement.attrs.count = 0;\n        cell.attr({\n          count: {\n            text: '0',\n          },\n        });\n        state.selectedElement.attrs.currentStateString = '';\n        state.selectedElement.attrs.currentState = [];\n      }\n\n      removeLinksFromPlace(state, state.selectedElement.id);\n    },\n    updateElementInitialStateString: async (state, initialStateString) => {\n      await updateInitialState(\n        state.selectedElement, initialStateString, state.selectedElement.attrs.dataType, state,\n      );\n      state.selectedElement.attrs.outputs.forEach((item) => {\n        refreshTransitionStatus(state, item.transitionId);\n      });\n    },\n    updateElementAction: (state, actionName) => {\n      const action = state.actions.find((item) => item.name === actionName);\n\n      const inputPlaces = Object.values(state.selectedElement.attrs.inputs);\n      inputPlaces.forEach((placeId) => {\n        if (placeId) {\n          const place = state.elements.find((item) => item.id === placeId);\n          place.attrs.outputs = place.attrs.outputs.filter(\n            (item) => item.transitionId !== state.selectedElement.id,\n          );\n        }\n      });\n\n      const outputPlaces = Object.values(state.selectedElement.attrs.outputs);\n      outputPlaces.forEach((placeIds) => {\n        placeIds.forEach((placeId) => {\n          const place = state.elements.find((item) => item.id === placeId);\n          place.attrs.inputs = place.attrs.inputs.filter(\n            (item) => item.transitionId !== state.selectedElement.id,\n          );\n        });\n      });\n\n      const cell = state.graph.getCell(state.selectedElement.id);\n      state.selectedElement.attrs.action = action.name;\n      state.selectedElement.attrs.inputs = {};\n      state.selectedElement.attrs.outputs = {};\n      cell.attr({\n        action: {\n          text: action.name,\n        },\n      });\n      cell.removePorts(cell.getPorts());\n      const inputs = Object.keys(action.inputs);\n\n      inputs.forEach((input) => {\n        cell.addPort({\n          group: 'input',\n          attrs: {\n            circle: {\n              'data-name': input,\n              'data-type': action.inputs[input],\n            },\n            text: {\n              text: `${input}:${action.inputs[input]}`,\n            },\n          },\n        });\n        state.selectedElement.attrs.inputs[input] = undefined;\n      });\n\n      const outputs = Object.keys(action.outputs);\n      outputs.forEach((output) => {\n        cell.addPort({\n          group: 'output',\n          attrs: {\n            circle: {\n              'data-name': output,\n              'data-type': action.outputs[output],\n            },\n            text: {\n              text: `${output}:${action.outputs[output]}`,\n            },\n          },\n        });\n        state.selectedElement.attrs.outputs[output] = [];\n      });\n\n      state.selectedElement.attrs.status = checkTransitionStatus(state, state.selectedElement);\n\n      if (state.selectedElement.attrs.status === 'Disabled') {\n        cell.attr({\n          body: {\n            stroke: errorColor,\n          },\n        });\n      } else if (state.selectedElement.attrs.status === 'Enabled') {\n        cell.attr({\n          body: {\n            stroke: '#8f8f8f',\n          },\n        });\n      } else if (state.selectedElement.attrs.status === 'Ready') {\n        cell.attr({\n          body: {\n            stroke: successColor,\n          },\n        });\n      }\n    },\n  },\n  getters: {\n    paper(state) {\n      return state.paper;\n    },\n    graph(state) {\n      return state.graph;\n    },\n    paperEl(state) {\n      return state.paperEl;\n    },\n    actions(state) {\n      return state.actions;\n    },\n    dataTypes(state) {\n      return state.dataTypes;\n    },\n    getElementById: (state) => (id) => state.elements.find((element) => id === element.id),\n    getCellById: (state) => (id) => state.graph.getCell(id),\n    getCellViewById: (state) => (id) => state.paper.findViewByModel(state.graph.getCell(id)),\n    selectedElement(state) {\n      return state.selectedElement;\n    },\n    tool(state) {\n      return state.tool;\n    },\n    step(state) {\n      return state.step;\n    },\n    logsString(state) {\n      return state.logs.toString();\n    },\n  },\n  actions: {\n  },\n  modules: {\n  },\n});\n","import ElementPlus from 'element-plus';\nimport '../element-variables.scss';\n\nexport default (app) => {\n  app.use(ElementPlus);\n};\n","import { createApp } from 'vue';\nimport LoadScript from 'vue-plugin-load-script';\nimport { library, dom } from '@fortawesome/fontawesome-svg-core';\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\nimport { fas } from '@fortawesome/free-solid-svg-icons';\nimport { far } from '@fortawesome/free-regular-svg-icons';\nimport axios from 'axios';\nimport VueAxios from 'vue-axios';\nimport App from './App.vue';\nimport router from './router';\nimport store from './store';\nimport installElementPlus from './plugins/element';\n\nexport default ({ domNode } = {}) => {\n  library.add(fas);\n  library.add(far);\n  dom.watch();\n\n  const app = createApp(App);\n  installElementPlus(app);\n\n  app.component('font-awesome-icon', FontAwesomeIcon);\n\n  app.use(LoadScript);\n  app.use(VueAxios, axios);\n\n  app.use(store).use(router).mount(domNode || '#app');\n}\n","import PetriEditorLauncher from './PetriEditorLauncher';\n\nPetriEditorLauncher();\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkpontosim\"] = self[\"webpackChunkpontosim\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [998], function() { return __webpack_require__(7937); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"sourceRoot":""}